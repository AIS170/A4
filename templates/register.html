<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Register</title>
    <style>
        .highlight {
            background-color: yellow;
        }
    </style>
</head>
<body>

    <div class="register-box">
        <form action="{{ url_for('authenticate_user.signup') }}" method="post">
            <text class="form-text">
                <h1>Register to A4 E-Commerce</h1>
                <span>Enter your details below</span>
            </text>
            <div class="user-box">
                <input type="text" id="firstName" name="firstName" required>
                <label for="firstName">First Name:</label>
            </div>
            <div class="user-box">
                <input type="text" id="lastName" name="lastName" required>
                <label for="lastName">Last Name:</label>
            </div>
            <div class="user-box">
                <input type="email" id="email" name="email" required>
                <label for="email">Email:</label>
            </div>
            <div class="user-box">
                <input type="password" id="password" name="password" required>
                <label for="password">Password:</label>
            </div>
            <div class="user-box">
                <input type="password" id="confirmPassword" name="confirmPassword" required>
                <label for="confirmPassword">Confirm Password:</label>
            </div>
            <button type="submit">Register</button>
            <links>
                <div><a href="{{ url_for('authenticate_user.login') }}">Already Have an Account?</a></div>
                <div><a href="{{ url_for('home') }}">Home</a></div>
            </links>
        </form>
    </div>
    <button onclick="speech()">Toggle Text-to-Speech</button>

    <script>
        let speaking = false;
        let queue = [];

        function speech() {
            if (!speaking) {
                startSpeak();
            } else {
                stopSpeak();
            }
        }

        function startSpeak() {
            const elementsToSpeak = document.querySelectorAll('h1, span, label, a, button');
            elementsToSpeak.forEach(element => {
                queue.push({
                    element: element,
                    text: element.textContent.trim()
                });
            });

            speaking = true;
            speak();
        }

        function speak() {
            if (queue.length > 0 && speaking) {
                const { element, text } = queue.shift();
                element.classList.add('highlight');
                const utterance = new SpeechSynthesisUtterance(text);
                utterance.onend = function() {
                    element.classList.remove('highlight');
                    speak();
                };
                speechSynthesis.speak(utterance);
            } else {
                speaking = false;
            }
        }

        function stopSpeak() {
            speaking = false;
            speechSynthesis.cancel();
            queue = [];
            const highlighted = document.querySelectorAll('.highlight');
            highlighted.forEach(element => {
                element.classList.remove('highlight');
            });
        }
    </script>
</body>
</html>
